<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <link rel="stylesheet" type="text/css" href="estilo.css">
    <link href="https://fonts.googleapis.com/css?family=Questrial&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="estilo.css" media="screen and (max-width: 480px)">


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title> Passe Adiante </title>

</head>

<body>


    <div class="foto">
        <div class="text_cadastro">
            <b>Passe Adiante</b> </div>

        <div class="cabecalho">

        </div>

        <div class="login">
            <h1>Cadastre- se </h1>
            <form id="form_cadastro" onsubmit="return validar(event)" method="POST">
                <input type="text" name="nome_completo" placeholder="Nome Completo" id="nome_completo"><br>
                <input type="text" name="email" placeholder="Email" id="email"><br>
                <input type="text" name="senha" placeholder="Senha" id="senha"><br>
                <input type="password" name="" placeholder="Confirmar Senha" id="confsenha"><br>
                <a href="./index.html"></a>
                <input type="submit" class="btn" name="" value="Cadastrar"></br>


            </form>

        </div>
    </div>
</body>

</html>

<script>

    function validar(event) {
        event.preventDefault()

        if (senha.value != confsenha.value || senha.value=="" || nome_completo== "" || email.value =="" || email.value == index.Of('@')-1) {
            alert("Ops ! Precisa inserir os dados corretamente ! ");
        } else {
            var formulario = new URLSearchParams(new FormData(form_cadastro));
            fetch("/usuarios/cadastrar", {
                method: "POST",
                body: formulario
            }).then(function (response) {

                if (response.ok) {

                    window.location.href = 'index.html';

                } else {

                    console.log('Erro de cadastro!');
                    response.text().then(function (resposta) {
                        
                    });
                    
                }
            });

            return false;
        }
    }


</script>